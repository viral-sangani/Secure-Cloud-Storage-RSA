#include<iostream>
#include<math.h>
using namespace std;

int gcd(int a,int h){
int temp;
while(1){
temp=a%h;
if(temp==0)
return h;
a=h;
h=temp;
}
}

int main(){
double p=3,q=7;
double n=p*q;
double count,d;
double totient=(p-1)*(q-1);
double e=2;
double k=2;

while(e<totient){
count=gcd(e,totient);
if(count==1)
break;
else
e++;
}

d=((k*totient)+1)/e;
double msg_data=12;
double c=pow(msg_data,e);
double m=pow(c,d);
c=fmod(c,n);
m=fmod(m,n);

cout<<"message data ="<<msg_data;
cout<<"\n"<<"p ="<<p;
cout<<"\n"<<"q ="<<q;
cout<<"\n"<<"n=p*q ="<<n;
cout<<"\n"<<"e ="<<e;
cout<<"\n"<<"d ="<<d;
cout<<"\n"<<"totient ="<<totient;
cout<<"\n"<<"encrypted data ="<<c;
cout<<"\n"<<"original msg sent ="<<m;

return 0;
}
